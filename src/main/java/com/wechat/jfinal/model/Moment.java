package com.wechat.jfinal.model;

import com.wechat.jfinal.model.base.BaseMoment;

import java.util.List;

/**
 * Generated by JFinal.
 */
@SuppressWarnings("serial")
public class Moment extends BaseMoment<Moment> {
	public static final Moment dao = new Moment().dao();

    public List<Moment> findByStudent(Integer student) {

        return find("select  * from  moment where student_id = ? and status = 1",student);

    }

    public Moment findVideo(Integer studentId) {
        return findFirst("select * from moment where student_id=?",studentId);
    }

    public List<Moment> findByStudentId(Integer studentId) {
        return find("select * from moment where student_id=?",studentId);
    }


    public Moment findMomentInfo(Integer momentId) {

        return findFirst("SELECT a.*,b.name,b.avatar,c.class_name,c.cover FROM `moment` a, class_student b, class_room c WHERE  a.student_id = b.id AND  a.class_room_id = c.id  AND a.id=? ",momentId);
    }
}
