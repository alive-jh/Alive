package com.wechat.jfinal.model;

import java.util.List;

import com.jfinal.plugin.activerecord.Db;
import com.jfinal.plugin.activerecord.Page;
import com.jfinal.plugin.activerecord.Record;
import com.wechat.jfinal.model.base.BaseClassRoomPractice;

/**
 * Generated by JFinal.
 */
@SuppressWarnings("serial")
public class ClassRoomPractice extends BaseClassRoomPractice<ClassRoomPractice> {
	public static final ClassRoomPractice dao = new ClassRoomPractice().dao();

	public Page<ClassRoomPractice> findByStudent(Integer student, Integer pageNumber, Integer pageSize) {
		return ClassRoomPractice.dao.paginate(pageNumber, pageSize, "select * ",
				"from class_room_practice where student_id = ? order by id asc", student);
	}

	public Page<ClassRoomPractice> findByClassRoom(Integer classRoom, Integer pageNumber, Integer pageSize) {
		return ClassRoomPractice.dao.paginate(pageNumber, pageSize, "select * ",
				"from class_room_practice where class_room_id = ? order by id asc", classRoom);
	}

	public List<ClassRoomPractice> findPractice(int student, int classroom) {
		// TODO Auto-generated method stub
		return find("SELECT * FROM `class_room_practice` WHERE student_id = ? AND class_room_id = ?", student,
				classroom);
	}

	public void likeOrUnliek(int student, int practice) {
		// TODO Auto-generated method stub
		Db.update(
				"insert into class_room_pratice_like (`student_id`,`class_room_practice_id`) values (?,?) on DUPLICATE key update `status`= ABS(`status`-1)",
				student, practice);

	}

	public List<ClassRoomPractice> findByClassRoom(int classroom) {
		// TODO Auto-generated method stub
		return find("slect * from class_room_pratice where class_room_id = ?", classroom);
	}

	public Page<ClassRoomPractice> paginateByClassRoom(int pageNumber, int pageSize, int classroom) {
		// TODO Auto-generated method stub
		return paginate(pageNumber, pageSize, "select *", "from class_room_pratice where class_room_id = ?", classroom);
	}

}
